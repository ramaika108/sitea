{"ast":null,"code":"import _toConsumableArray from\"/home/ydv/projects/ezichestvo/ts/malenko/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/ydv/projects/ezichestvo/ts/malenko/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useSearchParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pagination=function Pagination(_ref){var _ref$color=_ref.color,color=_ref$color===void 0?'dark':_ref$color,_ref$extraClass=_ref.extraClass,extraClass=_ref$extraClass===void 0?'':_ref$extraClass,pagination=_ref.pagination;var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,2),searchParams=_useSearchParams2[0],setSearchParams=_useSearchParams2[1];var setPage=function setPage(pageNumber){var _document,_document$getElementB;setSearchParams({page:pageNumber.toString()});(_document=document)===null||_document===void 0?void 0:(_document$getElementB=_document.getElementById('top'))===null||_document$getElementB===void 0?void 0:_document$getElementB.scrollIntoView();};var changePage=function changePage(incrementBy){var pageNumber=searchParams.get(\"page\");if(pageNumber){var _document2,_document2$getElement;var newPageNumber=Number(pageNumber)+incrementBy;setSearchParams({page:newPageNumber.toString()});(_document2=document)===null||_document2===void 0?void 0:(_document2$getElement=_document2.getElementById('top'))===null||_document2$getElement===void 0?void 0:_document2$getElement.scrollIntoView();return;}setSearchParams({page:'2'});//use is on first page initially\n};//if (pagination?.total === 0 || pagination?.total === 1) return null\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"pagination pagination--\".concat(color,\" \").concat(extraClass),children:[(pagination===null||pagination===void 0?void 0:pagination.current)===1?/*#__PURE__*/_jsx(\"div\",{className:\"pagination-item pagination-item--inactive\",children:\"<\"}):/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return changePage(-1);},className:\"pagination-item\",children:\"<\"}),_toConsumableArray(Array(pagination===null||pagination===void 0?void 0:pagination.total)).map(function(e,i){i++;if(i===(pagination===null||pagination===void 0?void 0:pagination.current)){return/*#__PURE__*/_jsx(\"div\",{className:\"pagination-item pagination-item--active\",children:i},e);}return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setPage(i);},className:\"pagination-item\",children:i},e);}),(pagination===null||pagination===void 0?void 0:pagination.current)===(pagination===null||pagination===void 0?void 0:pagination.total)?/*#__PURE__*/_jsx(\"div\",{className:\"pagination-item pagination-item--inactive\",children:\">\"}):/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return changePage(1);},className:\"pagination-item\",children:\">\"})]});};export default Pagination;","map":{"version":3,"names":["useSearchParams","Pagination","color","extraClass","pagination","searchParams","setSearchParams","setPage","pageNumber","page","toString","document","getElementById","scrollIntoView","changePage","incrementBy","get","newPageNumber","Number","current","Array","total","map","e","i"],"sources":["/home/ydv/projects/ezichestvo/ts/malenko/frontend/src/components/Pagination.tsx"],"sourcesContent":["import {Link, useSearchParams} from \"react-router-dom\";\n\ntype PaginationObject = {\n    total: number\n    current: number\n}\ninterface PaginationInterface {\n    color?: string;\n    extraClass?: string\n    pagination?: PaginationObject\n}\n\nconst Pagination = ({color='dark', extraClass='', pagination}:PaginationInterface) => {\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const setPage = (pageNumber:number) => {\n        setSearchParams({page: pageNumber.toString()})\n        document?.getElementById('top')?.scrollIntoView();\n    }\n\n    const changePage = (incrementBy:number) => {\n        let pageNumber = searchParams.get(\"page\");\n        if (pageNumber) {\n            let newPageNumber = Number(pageNumber) + incrementBy\n            setSearchParams({page: (newPageNumber).toString()})\n            document?.getElementById('top')?.scrollIntoView();\n            return\n        }\n        setSearchParams({page: '2'})    //use is on first page initially\n    }\n\n    //if (pagination?.total === 0 || pagination?.total === 1) return null\n\n    return(\n        <div className={`pagination pagination--${color} ${extraClass}`}>\n            {\n        pagination?.current === 1 ?\n                <div className=\"pagination-item pagination-item--inactive\">&lt;</div>\n                :\n                <div onClick={() => changePage(-1)} className=\"pagination-item\">&lt;</div>\n            }\n            {[...Array(pagination?.total)].map((e, i) => {\n                i ++\n                if (i === pagination?.current) {\n                    return(<div className=\"pagination-item pagination-item--active\" key={e}>{i}</div>)\n                }\n                return(<div onClick={() => setPage(i)} className=\"pagination-item\" key={e}>{i}</div>)\n            })}\n\n            {\n        pagination?.current === pagination?.total ?\n                <div className=\"pagination-item pagination-item--inactive\">&gt;</div>\n                :\n                <div onClick={() => changePage(1)} className=\"pagination-item\">&gt;</div>\n            }\n        </div>\n    )\n}\n\nexport default Pagination;\n"],"mappings":"sRAAA,OAAcA,eAAd,KAAoC,kBAApC,C,wFAYA,GAAMC,WAAU,CAAG,QAAbA,WAAa,MAAmE,qBAAjEC,KAAiE,CAAjEA,KAAiE,qBAA3D,MAA2D,iCAAnDC,UAAmD,CAAnDA,UAAmD,0BAAxC,EAAwC,iBAApCC,UAAoC,MAApCA,UAAoC,CAClF,qBAAwCJ,eAAe,EAAvD,sDAAOK,YAAP,sBAAqBC,eAArB,sBAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,UAAD,CAAuB,qCACnCF,eAAe,CAAC,CAACG,IAAI,CAAED,UAAU,CAACE,QAAX,EAAP,CAAD,CAAf,CACA,WAAAC,QAAQ,QAAR,6DAAUC,cAAV,CAAyB,KAAzB,uEAAiCC,cAAjC,GACH,CAHD,CAKA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,WAAD,CAAwB,CACvC,GAAIP,WAAU,CAAGH,YAAY,CAACW,GAAb,CAAiB,MAAjB,CAAjB,CACA,GAAIR,UAAJ,CAAgB,sCACZ,GAAIS,cAAa,CAAGC,MAAM,CAACV,UAAD,CAAN,CAAqBO,WAAzC,CACAT,eAAe,CAAC,CAACG,IAAI,CAAGQ,aAAD,CAAgBP,QAAhB,EAAP,CAAD,CAAf,CACA,YAAAC,QAAQ,QAAR,+DAAUC,cAAV,CAAyB,KAAzB,uEAAiCC,cAAjC,GACA,OACH,CACDP,eAAe,CAAC,CAACG,IAAI,CAAE,GAAP,CAAD,CAAf,CAAgC;AACnC,CATD,CAWA;AAEA,mBACI,aAAK,SAAS,kCAA4BP,KAA5B,aAAqCC,UAArC,CAAd,WAEA,CAAAC,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAEe,OAAZ,IAAwB,CAAxB,cACQ,YAAK,SAAS,CAAC,2CAAf,eADR,cAGQ,YAAK,OAAO,CAAE,yBAAML,WAAU,CAAC,CAAC,CAAF,CAAhB,EAAd,CAAoC,SAAS,CAAC,iBAA9C,eALR,CAOK,mBAAIM,KAAK,CAAChB,UAAD,SAACA,UAAD,iBAACA,UAAU,CAAEiB,KAAb,CAAT,EAA8BC,GAA9B,CAAkC,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACzCA,CAAC,GACD,GAAIA,CAAC,IAAKpB,UAAL,SAAKA,UAAL,iBAAKA,UAAU,CAAEe,OAAjB,CAAL,CAA+B,CAC3B,mBAAO,YAAK,SAAS,CAAC,yCAAf,UAAkEK,CAAlE,EAA8DD,CAA9D,CAAP,CACH,CACD,mBAAO,YAAK,OAAO,CAAE,yBAAMhB,QAAO,CAACiB,CAAD,CAAb,EAAd,CAAgC,SAAS,CAAC,iBAA1C,UAAqEA,CAArE,EAAiED,CAAjE,CAAP,CACH,CANA,CAPL,CAgBA,CAAAnB,UAAU,OAAV,EAAAA,UAAU,SAAV,QAAAA,UAAU,CAAEe,OAAZ,KAAwBf,UAAxB,SAAwBA,UAAxB,iBAAwBA,UAAU,CAAEiB,KAApC,eACQ,YAAK,SAAS,CAAC,2CAAf,eADR,cAGQ,YAAK,OAAO,CAAE,yBAAMP,WAAU,CAAC,CAAD,CAAhB,EAAd,CAAmC,SAAS,CAAC,iBAA7C,eAnBR,GADJ,CAwBH,CA7CD,CA+CA,cAAeb,WAAf"},"metadata":{},"sourceType":"module"}